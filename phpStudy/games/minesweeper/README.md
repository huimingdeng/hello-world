# 学习笔记 #
使用PHP已经有几年了，但从未使用过 PHP 开发过小游戏，如今尝试了一下，才发现以前自己错过了挺多知识，所以该文档用于记录游戏开发的笔记。

## swoole 框架实现内存常驻 ##
该可以实现PHP程序持久化内存。

## 扫雷原理 ##
根据设置循环绘制地图，随机设置一定数量的地雷，游戏开始点击，根据点击的安全节点显示附近地雷的数量，该节点地雷数量根据 `左上->上->右上...` 等方位计算地雷数量进行游戏提示，如图所示：

![数字显示原理](https://i.imgur.com/UR8mv0T.png)

伪代码，扫雷增强中的周边地雷数量提示实现：

	for($i=0;$i<$rows;$i++){
		for($j=0;$j<$cols;$j++){
			if($arr['地图坐标:$i,$j']=='地雷') continue; // 如果是地雷跳过，不用绘制地图的提示数字
			$show=0; // 地图显示地雷数字
			// 节点坐标($i,$j)的左上如果是地雷则$show自增
			if($i - 1 >= 0 && $j - 1 >= 0 && $arr[($i-1,$j-1)]=='地雷') $show++; 
			// 节点坐标($i,$j) 上边为地雷则自增
			if($j - 1 >= 0 && $arr[($i,$j-1)]=='地雷') $show++; 
			... ... // 其它同理
		}
	}