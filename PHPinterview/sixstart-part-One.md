# 六星-Part-One

感谢六星教育老师们每天的分享。

文档根据每天群内讨论问题整理。

### 2019-8-21

#### 分库分表技术方面考虑，什么时候该分库分表，怎么操作？

##### 1：为什么Redis需要把所有数据放到内存中？

Redis为了达到最快的读写速度将数据都读到内存中，并通过异步的方式将数据写入磁盘。
所以redis具有快速和数据持久化的特征。如果不将数据放在内存中，磁盘I/O速度为严重影响redis的性能。
在内存越来越便宜的今天，redis将会越来越受欢迎。 如果设置了最大使用的内存，则数据已有记录数达到内存限值后不能继续插入新值。

##### 2：分库分表技术方面考虑，什么时候该分库分表，怎么操作？

垂直分表，把不常用的字段拆分到另外一张表。
垂直分库，把不同业务的数据放在不同的库。服务化的拆分利于解耦和提高性能，也利于系统扩展。
水平分表，表中的数据（比如user表）按照一定规律（比如对id进行hash和取模后拆分）。可以一定程度缓解查询性能瓶颈。但还会有库级别IO瓶颈，因为数据在同一个库中。

水平分库分表，于水平分表类似，唯一不同是将这些拆分出来的表保存在不同的数据库中。在冷热数据分离的场景很适用。能有效缓解单机和单裤性能瓶颈压力，突破IO、连接数、硬件资源的瓶颈。
