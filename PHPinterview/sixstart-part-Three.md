## 六星-Part-Three

### 2019-9-10

#### 一：有一个文件ip.txt，每行一条ip记录，共若干行，下面哪个命令可以实现“统计出现次数最多的前3个ip及其次数”？（ ）

A、uniq -c ip.txt
***B、sort -nr ip.txt | uniq -c | sort -nr | head -n 3***
C、cat ip.txt | count -n | sort -rn | head -n 3
D、cat ip.txt | count -n

答案解析：
本题利用管道符"|"组合多个命令，uniq -c filename用于去除冗余并统计每一行出现的次数。 sort -r指逆序排序，-n指按数字字符串大小排序 head指定数量。 剩下的二选一交给运气。

正确的命令应该为： sort -nr ip.txt | uniq -c | sort -nr | head -n 3 第一次排序，把ip按顺序排列，因为第二个uniq只会合并相邻项 第二次排序，才是把ip按出现次序大小从大到小排列 最后取前三项结果。

#### 二：老王养了E只鸡，他计划在一天内喂它们吃F条蚯蚓。如果每只鸡吃了G条蚯蚓，就多吃了12条；如果每只鸡吃16条蚯蚓，那么就会少吃7条。请问，老王养了多少只鸡，每只鸡每天吃几条蚯蚓？

答案：19只鸡，每只鸡每天吃17条蚯蚓

### 2019-9-17

#### 并发操作会带来哪些数据不一致性？

A、不可修改、不可重复读、脏读、死锁

B、丢失修改、脏读、死锁

C、不可重复读、脏读、死锁

***D、丢失修改、不可重复读、脏读***

答案解析：

脏读：就是指当一个事务对数据进行了修改但还没有提交到数据库时，另一个事务访问并使用了这个数据。 

不可重复读：在一个事务内两次读数据之间，第二个事务访问该数据并进行了修改。 

丢失修改：两个事务读入同一数据并修改，T2提交的结果破坏了T1提交的结果。例如T1读A修改为A-1，T2也读A修改为A-1（实际上应该是读A-1，修改 为A-2） 

幻影读：同一事务在两个不同的时间段执行相同的查询条件得到的结果不一致。 

注意区分： 

不可重复读的重点是修改 : 同样的条件 ， 你读取过的数据 ， 再次读取出来发现值不一样了 

幻读的重点在于新增或者删除 同样的条件 ， 第 1 次和第 2 次读出来的记录数不一样。

### 2019-9-18

优先级队列被实现为最大堆。最初它有5个元素，堆的层次遍历是10，8，5，3，2。现按照顺序将两个新元素1和7插入到堆中。则插入新元素后，堆的层次遍历结果是什么？

***A、10， 8， 7， 3， 2， 1， 5*** 

B、10， 8， 7， 1， 2， 3， 5 

C、10， 8， 7， 2， 3， 1， 5 

D、10， 8， 7， 5， 3， 2， 1

答案解析：

插入1后，最大堆变成10 8 5 3 2 1； 插入7后，5下面的左节点是1，右节点是7。需要实现最大堆，所以7和5交换。 最后变成7下面左节点是1，右节点是5。 所以遍历结果是10 8 7 3 2 1 5


