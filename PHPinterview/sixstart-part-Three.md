## 六星-Part-Three

### 2019-9-10

#### 一：有一个文件ip.txt，每行一条ip记录，共若干行，下面哪个命令可以实现“统计出现次数最多的前3个ip及其次数”？（ ）

A、uniq -c ip.txt
***B、sort -nr ip.txt | uniq -c | sort -nr | head -n 3***
C、cat ip.txt | count -n | sort -rn | head -n 3
D、cat ip.txt | count -n

答案解析：
本题利用管道符"|"组合多个命令，uniq -c filename用于去除冗余并统计每一行出现的次数。 sort -r指逆序排序，-n指按数字字符串大小排序 head指定数量。 剩下的二选一交给运气。

正确的命令应该为： sort -nr ip.txt | uniq -c | sort -nr | head -n 3 第一次排序，把ip按顺序排列，因为第二个uniq只会合并相邻项 第二次排序，才是把ip按出现次序大小从大到小排列 最后取前三项结果。

#### 二：老王养了E只鸡，他计划在一天内喂它们吃F条蚯蚓。如果每只鸡吃了G条蚯蚓，就多吃了12条；如果每只鸡吃16条蚯蚓，那么就会少吃7条。请问，老王养了多少只鸡，每只鸡每天吃几条蚯蚓？

答案：19只鸡，每只鸡每天吃17条蚯蚓

### 2019-9-17

#### 并发操作会带来哪些数据不一致性？

A、不可修改、不可重复读、脏读、死锁

B、丢失修改、脏读、死锁

C、不可重复读、脏读、死锁

***D、丢失修改、不可重复读、脏读***

答案解析：

脏读：就是指当一个事务对数据进行了修改但还没有提交到数据库时，另一个事务访问并使用了这个数据。 

不可重复读：在一个事务内两次读数据之间，第二个事务访问该数据并进行了修改。 

丢失修改：两个事务读入同一数据并修改，T2提交的结果破坏了T1提交的结果。例如T1读A修改为A-1，T2也读A修改为A-1（实际上应该是读A-1，修改 为A-2） 

幻影读：同一事务在两个不同的时间段执行相同的查询条件得到的结果不一致。 

注意区分： 

不可重复读的重点是修改 : 同样的条件 ， 你读取过的数据 ， 再次读取出来发现值不一样了 

幻读的重点在于新增或者删除 同样的条件 ， 第 1 次和第 2 次读出来的记录数不一样。

### 2019-9-18

优先级队列被实现为最大堆。最初它有5个元素，堆的层次遍历是10，8，5，3，2。现按照顺序将两个新元素1和7插入到堆中。则插入新元素后，堆的层次遍历结果是什么？

***A、10， 8， 7， 3， 2， 1， 5*** 

B、10， 8， 7， 1， 2， 3， 5 

C、10， 8， 7， 2， 3， 1， 5 

D、10， 8， 7， 5， 3， 2， 1

答案解析：

插入1后，最大堆变成10 8 5 3 2 1； 插入7后，5下面的左节点是1，右节点是7。需要实现最大堆，所以7和5交换。 最后变成7下面左节点是1，右节点是5。 所以遍历结果是10 8 7 3 2 1 5

### 2019-9-23

一次学校里举行元旦晚会，有一个抽奖活动。参加活动的人数一共有64人。大奖只有一个，老师决定：把所有的人围成一个大圆圈。先从老师开始，算第1号，开始数数，他右边的人算第2号，然后3号，每隔一人数一个，数到是奇数的人都站出来，剩下的继续数，直到剩下最后一个人，大奖就归他。一个聪明的学生故意站到一个位置上，最后正好就剩下了他。你知道他站在哪里了吗？

```php
// 生成参与人数
$i = 1;
$a = [];
while ( $i <= 64) {
    array_push($a, $i);
    $i++;
}
// 搜索能站到最后的编号
function search($a){
    $b = [];
    if(count($a)>1){
        for ($i=0; $i < count($a); $i++) { 
            if(($i+1)%2==0){
                array_push($b, $a[$i]);
            }
        }
        return search($b);
    }else{
        return array_pop($a);
    }
}
print_r(search($a));
```

答案解析：

他只要站在老师的左边就行了，因为每一轮都是偶数留下，轮到最后还是偶数留下，所以他是最后一名，即64号。

### 2019-9-24

##### 小明今天提前放学，步行回家10分钟的时候遇见开车接他的爸爸，于是上车一起回家，但回家时间仍比以往晚了一分钟，原因是今天爸爸下班晚了七分钟。请问，小明今天提前几分钟放学？

A、5分钟 ***B、6分钟*** C、7分钟 D、8分钟

答案解析：
小明的爸爸晚下班7分钟，然后去接他，却只迟1分钟回家。

说明
由于在去接小明的路上少走了小明步行的这10分钟的路程的2倍（往返）， 而少用了6分钟。所以两人相遇地点距离学校的路程，换算车行时间是3分钟。（往返6共分钟）。也就是说这段路程车子到学校还要3分钟。而爸爸晚下班的7分钟 - 这3分钟 = 车子遇见小明时比平时晚的时间 ： 4分钟。假设提前放学n分钟， n+4=10所以小明提前放学6分钟

### 2019-9-25

##### 以下哪个程序员的说法是合理的

A、程序员甲:这一段sql写的太不合理，表上有锁行上有锁就算了，列上还要加锁! 

***B、程序员乙:为了实现给30岁以下同事加发500块钱这样的需求，我的sql实现分为两个步骤:第一，在人员表中选出30岁以下的同事名单;第二，调用了一个触发器，给工资表的金额字段给对应同事加500。*** 

C、程序员丙:我根据两张表的主键进行fulljoin,结果发现很多重复项，查了一下原来是因为关联项中有null值。 

D、程序员丁:老板居然叫我在客户订单表中加两列关于订单产品的信息!为什么不分成两张表?他懂不懂2NF?

### 2019-9-26

有16瓶水，其中一瓶有毒，小白鼠喝一滴之后，一小时会死。请问最少用（）只小白鼠，在一小时内一定可以找出至少14瓶无毒的水？

A. 1            ***B.   3***

C.  4            D. 16
